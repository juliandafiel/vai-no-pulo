import { PrismaService } from '../prisma/prisma.service';
interface CreateOrderDto {
    tripId?: string;
    description: string;
    weight: number;
    dimensions?: string;
    estimatedPrice: number;
    notes?: string;
    origin?: {
        name: string;
        lat: number;
        lng: number;
    };
    destination?: {
        name: string;
        lat: number;
        lng: number;
    };
}
export declare class OrdersService {
    private prisma;
    constructor(prisma: PrismaService);
    create(data: CreateOrderDto, customerId: string): Promise<{
        customer: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
    } & {
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    findMyOrders(userId: string, userRole: string): Promise<{
        id: string;
        status: import(".prisma/client").$Enums.OrderStatus;
        createdAt: string;
        tripId: string;
        customerId: string;
        driverId: string;
        tripOrigin: string;
        tripDestination: string;
        tripDate: string;
        description: string;
        weight: number;
        estimatedPrice: number;
        notes: string;
        customer: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
        driver: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
        originLat: number;
        originLng: number;
        destLat: number;
        destLng: number;
        isStandalone: boolean;
        cancellationReason: string;
        cancelledBy: string;
        cancelledAt: string;
        rejectionReason: string;
        rejectedAt: string;
    }[]>;
    findOne(id: string, userId: string): Promise<{
        customer: {
            id: string;
            name: string;
            email: string;
            phone: string;
            profilePhoto: string;
        };
        driver: {
            id: string;
            name: string;
            email: string;
            phone: string;
            profilePhoto: string;
        };
        trip: {
            id: string;
            originName: string;
            originLat: number;
            originLng: number;
            destName: string;
            destLat: number;
            destLng: number;
            notes: string | null;
            status: import(".prisma/client").$Enums.TripStatus;
            createdAt: Date;
            updatedAt: Date;
            driverId: string;
            vehicleId: string;
            departureAt: Date;
            estimatedArrival: Date | null;
            distanceKm: number | null;
            durationMinutes: number | null;
            availableSeats: number | null;
            availableCapacityKg: number | null;
            pricePerKm: number | null;
            lastLocation: import("@prisma/client/runtime/library").JsonValue | null;
        };
        messages: ({
            sender: {
                id: string;
                name: string;
                profilePhoto: string;
            };
        } & {
            id: string;
            createdAt: Date;
            conversationId: string | null;
            senderId: string;
            content: string;
            read: boolean;
            orderId: string | null;
        })[];
    } & {
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    accept(id: string, driverId: string): Promise<{
        isFirstAcceptance: boolean;
        message: string;
        customer: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
        driver: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
        trip: {
            originName: string;
            destName: string;
        };
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    reject(id: string, driverId: string, reason?: string): Promise<{
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    cancel(id: string, userId: string, reason?: string): Promise<{
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    startProgress(id: string, driverId: string): Promise<{
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    complete(id: string, driverId: string, finalPrice?: number): Promise<{
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    reopen(id: string, customerId: string): Promise<{
        customer: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
        driver: {
            id: string;
            name: string;
            phone: string;
            profilePhoto: string;
        };
        trip: {
            originName: string;
            destName: string;
        };
    } & {
        id: string;
        originName: string | null;
        originLat: number | null;
        originLng: number | null;
        destName: string | null;
        destLat: number | null;
        destLng: number | null;
        description: string;
        weight: number;
        dimensions: string | null;
        estimatedPrice: number;
        finalPrice: number | null;
        notes: string | null;
        status: import(".prisma/client").$Enums.OrderStatus;
        rejectionReason: string | null;
        cancellationReason: string | null;
        cancelledBy: string | null;
        createdAt: Date;
        updatedAt: Date;
        acceptedAt: Date | null;
        rejectedAt: Date | null;
        completedAt: Date | null;
        cancelledAt: Date | null;
        readAt: Date | null;
        customerId: string;
        driverId: string | null;
        tripId: string | null;
    }>;
    countPendingOrders(userId: string, userRole: string): Promise<number>;
    markAsRead(userId: string, userRole: string): Promise<{
        success: boolean;
    }>;
}
export {};
